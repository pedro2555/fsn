<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="iron-autogrow-textarea" assetpath="../bower_components/iron-autogrow-textarea/"><template><style>:host{display:inline-block;position:relative;width:400px;border:1px solid;padding:2px;-moz-appearance:textarea;-webkit-appearance:textarea;overflow:hidden;}.mirror-text{visibility:hidden;word-wrap:break-word;@apply --iron-autogrow-textarea;}.fit{@apply --layout-fit;}textarea{position:relative;outline:none;border:none;resize:none;background:inherit;color:inherit;width:100%;height:100%;font-size:inherit;font-family:inherit;line-height:inherit;text-align:inherit;@apply --iron-autogrow-textarea;}textarea::-webkit-input-placeholder{@apply --iron-autogrow-textarea-placeholder;}textarea:-moz-placeholder{@apply --iron-autogrow-textarea-placeholder;}textarea::-moz-placeholder{@apply --iron-autogrow-textarea-placeholder;}textarea:-ms-input-placeholder{@apply --iron-autogrow-textarea-placeholder;}</style><div id="mirror" class="mirror-text" aria-hidden="true">&nbsp;</div><div class="textarea-container fit"><textarea id="textarea" name$="[[name]]" aria-label$="[[label]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" disabled$="[[disabled]]" rows$="[[rows]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]"></textarea></div></template></dom-module><script>Polymer({is:'iron-autogrow-textarea',behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:'_valueChanged',type:String,notify:!0},bindValue:{observer:'_bindValueChanged',type:String,notify:!0},rows:{type:Number,value:1,observer:'_updateCached'},maxRows:{type:Number,value:0,observer:'_updateCached'},autocomplete:{type:String,value:'off'},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:'_onInput'},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},attached:function(){var a=navigator.userAgent.match(/iP(?:[oa]d|hone)/);a&&(this.$.textarea.style.marginLeft='-3px')},validate:function(){var a=this.$.textarea.validity.valid;return a&&(this.required&&''===this.value?a=!1:this.hasValidator()&&(a=Polymer.IronValidatableBehavior.validate.call(this,this.value))),this.invalid=!a,this.fire('iron-input-validate'),a},_bindValueChanged:function(a){this.value=a},_valueChanged:function(a){var b=this.textarea;b&&(b.value!==a&&(b.value=a||0===a?a:''),this.bindValue=a,this.$.mirror.innerHTML=this._valueForMirror(),this.fire('bind-value-changed',{value:this.bindValue}))},_onInput:function(a){var b=Polymer.dom(a).path;this.value=b?b[0].value:a.target.value},_constrain:function(a){var b;for(a=a||[''],b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push('');return b.join('<br/>')+'&#160;'},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,'&amp;').replace(/"/gm,'&quot;').replace(/'/gm,'&#39;').replace(/</gm,'&lt;').replace(/>/gm,'&gt;').split('\n'):[''],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)}});</script><dom-module id="paper-textarea" assetpath="../bower_components/paper-input/"><template><style>:host{display:block;}:host([hidden]){display:none !important;}label{pointer-events:none;}</style><paper-input-container no-label-float$="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]"><label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label><iron-autogrow-textarea class="paper-input-input" slot="input" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" bind-value="{{value}}" invalid="{{invalid}}" validator$="[[validator]]" disabled$="[[disabled]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" autocapitalize$="[[autocapitalize]]" rows$="[[rows]]" max-rows$="[[maxRows]]" on-change="_onChange"></iron-autogrow-textarea><template is="dom-if" if="[[errorMessage]]"><paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if" if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template></dom-module><script>Polymer({is:'paper-textarea',behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:'_ariaLabelledByChanged',type:String},_ariaDescribedBy:{observer:'_ariaDescribedByChanged',type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},get selectionStart(){return this.$.input.textarea.selectionStart},set selectionStart(a){this.$.input.textarea.selectionStart=a},get selectionEnd(){return this.$.input.textarea.selectionEnd},set selectionEnd(a){this.$.input.textarea.selectionEnd=a},_ariaLabelledByChanged:function(a){this._focusableElement.setAttribute('aria-labelledby',a)},_ariaDescribedByChanged:function(a){this._focusableElement.setAttribute('aria-describedby',a)},get _focusableElement(){return this.inputElement.textarea}});</script><dom-module id="paper-icon-item" assetpath="../bower_components/paper-item/"><template><style include="paper-item-shared-styles"></style><style>:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;@apply --paper-icon-item;}.content-icon{@apply --layout-horizontal;@apply --layout-center;width:var(--paper-item-icon-width, 56px);@apply --paper-item-icon;}</style><div id="contentIcon" class="content-icon"><slot name="item-icon"></slot></div><slot></slot></template><script>Polymer({is:'paper-icon-item',behaviors:[Polymer.PaperItemBehavior]});</script></dom-module></div><dom-module id="fsn-oceanic-report-view"><template><style include="shared-styles">:host{display:block;padding:10px;}.item-group{display:inline-block;margin:14px auto;}paper-input,
      paper-checkbox{margin:14px auto;}.group2{display:inline-block;width:49.5%;}.group3{display:inline-block;width:32.8%;}.group4{display:inline-block;width:24.5%;}.warp{white-space:pre-wrap;}</style><paper-card class="card" heading="Oceanic Report Tool"><paper-input class="group3" autocapitalize="" label="Destination" value="{{destination}}" pattern="^[A-Za-z0-9]{4}$" auto-validate=""></paper-input><paper-input class="group3" autocapitalize="" label="Cruise Altitude" value="{{cruiseAltitude}}" pattern="^[\d]{2}0$" auto-validate=""></paper-input><paper-input class="group3" autocapitalize="" label="Cruise Speed" value="{{cruiseSpeed}}" pattern="^\.[\d]{2}$" auto-validate=""></paper-input><paper-textarea autocapitalize="" label="Oceanic Route" value="{{oceanicRoute}}"></paper-textarea><paper-icon-item><paper-item-body two-line=""><div>{{_getCurrentWaypoint(oceanicRoute, currentPosition)}}</div><div secondary="">Flying to position</div></paper-item-body></paper-icon-item><paper-input class="" label="Time in simulator" value="{{_timeInSim}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><template is="dom-if" if="{{_requiresClearence(currentPosition)}}"><paper-input class="group2" label="Simulator time at {{_getCurrentWaypoint(oceanicRoute, currentPosition)}}" value="{{_timeAtCurrent}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><paper-item><paper-item-body two-line=""><div class="warp">{{clearencePhraseology}}</div><div secondary="">Clearence phraseology</div></paper-item-body></paper-item></template><template is="dom-if" if="{{_hasClearence(currentPosition)}}"><paper-input class="group2" label="Simulator time at {{_getCurrentWaypoint(oceanicRoute, currentPosition)}}" value="{{_timeAtCurrent}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><paper-input class="group2" label="Simulator time at {{_getNextWaypoint(oceanicRoute, currentPosition)}}" value="{{_timeAtNext}}" pattern="^([01]\d|2[0-3]):?([0-5]\d)$" auto-validate=""></paper-input><paper-item><paper-item-body two-line=""><div class="warp">{{positionReportPhraseology}}</div><div secondary="">Position report phraseology</div></paper-item-body></paper-item></template><paper-item><div class="item-group"><template is="dom-if" if="{{_canRewind(currentPosition, oceanicRoute)}}"><paper-button on-tap="handleRewindClick">Previous</paper-button></template><template is="dom-if" if="{{_canAdvance(currentPosition, oceanicRoute)}}"><paper-button on-tap="handleAdvanceClick">Next</paper-button></template></div></paper-item></paper-card></template><script>class FsnOceanicReportView extends Polymer.Element{static get is(){return"fsn-oceanic-report-view"}static get properties(){return{currentPosition:{type:Number,value:-1,notify:!0},oceanicRoute:{type:String,notify:!0,reflectToAttribute:!0,value:""},destination:{type:String,notify:!0,reflectToAttribute:!0,value:""},cruiseSpeed:{type:String,notify:!0,reflectToAttribute:!0,value:""},cruiseAltitude:{type:String,notify:!0,reflectToAttribute:!0,value:""},_timeInSim:{type:String,notify:!0,value:function(){var a=new Date;return this._getStringFromDate(a)}},_timeAtCurrent:{type:String,notify:!0,value:function(){var a=new Date;return this._getStringFromDate(a)}},_timeAtNext:{type:String,notify:!0,value:function(){var a=new Date;return this._getStringFromDate(a)}},clearencePhraseology:{computed:"_getClearencePhraseology(destination, oceanicRoute, cruiseAltitude, cruiseSpeed, timeAtCurrent)"},positionReportPhraseology:{computed:"_getPositionReportPhraseology(oceanicRoute, currentPosition, cruiseAltitude, cruiseSpeed, timeAtCurrent, timeAtNext)"},timeAtCurrent:{computed:"_getActualTimeAtPosition(_timeInSim, _timeAtCurrent)"},timeAtNext:{computed:"_getActualTimeAtPosition(_timeInSim, _timeAtNext)"}}}static get observers(){return["_updatePosition(oceanicRoute)"]}_getClearencePhraseology(a,b,c,d,e){return"Requesting clearence to "+a+" via "+b+", FL"+c+", Mach "+d+", estimating "+this._getCurrentWaypoint(b,-1)+" at time "+e+" zulu"}_getPositionReportPhraseology(a,b,c,d,e,f){var g="Reporting position "+this._getCurrentWaypoint(a,b)+" at time "+e+" zulu, FL"+c+", Mach "+d;return""!=this._getNextWaypoint(a,b)&&(g+=", estimating "+this._getNextWaypoint(a,b)+" at time "+f+" zulu"),""!=this._getAfterNextWaypoint(a,b)&&(g+=", next is "+this._getAfterNextWaypoint(a,b)),g}_getActualTimeAtPosition(a,b){a=this._getDateFromUTCString(a),b=this._getDateFromUTCString(b);var c=b.getTime()-a.getTime(),d=new Date().getTime();return this._getStringFromDate(new Date(d+c))}_getDateFromUTCString(a){var b=new Date;return b.setUTCHours(a.substring(0,2)),b.setUTCMinutes(a.substring(2)),b}_getStringFromDate(a){return a.getUTCHours().toString().padStart(2,"0")+a.getUTCMinutes().toString().padStart(2,"0")}_updatePosition(){this.currentPosition=-1}_requiresClearence(a){return-1==a}_hasClearence(a){return-1<a}_getCurrentWaypoint(a,b){b=-1==b?0:b;var c=a.split(" ");return c.length>=b+1?c[b]:""}_getNextWaypoint(a,b){b=-1==b?0:b;var c=a.split(" ");return c.length>=b+2?c[b+1]:""}_getAfterNextWaypoint(a,b){b=-1==b?0:b;var c=a.split(" ");return c.length>=b+3?c[b+2]:""}_canAdvance(a,b){var c=b.split(" ");return a<c.length-1}handleAdvanceClick(){this.oceanicRoute.split(" ");this._canAdvance(this.currentPosition,this.oceanicRoute)&&(0<=this.currentPosition&&(this.timeAtCurrent=this.timeAtNext,this.timeAtNext=""),this.currentPosition++)}_canRewind(a){return-1<a}handleRewindClick(){this._canRewind(this.currentPosition,this.oceanicRoute)&&(this.timeAtCurrent="",this.timeAtNext="",this.currentPosition--)}}window.customElements.define(FsnOceanicReportView.is,FsnOceanicReportView);</script></dom-module></body></html>